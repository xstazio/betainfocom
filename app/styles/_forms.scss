:root {
  --input_width: 18px;
}

form {
  margin: 0;

  .row {
    column-gap: 0.3em;

    & > :is(section, div) {
      padding: 0;
    }

    & > section:not(:last-child) {
      margin-bottom: 1em;
    }
  }

  .form-group {
    margin: $margin 0;

    &-row {
      display: grid;
      // justify-content: left;
      // align-items: flex-end;

      & > .form-group {
        margin: calc(#{margin} / 2) 0;
        align-self: end;

        button {
          margin-top: 17.5px;
        }
      }
    }

    &--small {
      max-width: 80px;

      label {
        @include mq(xsmall) {
          font-size: 0.6em;
        }

        @include mq(small) {
          font-size: 0.7em;
        }

        @include mq(medium) {
          font-size: 0.8em;
        }

        @include mq(large) {
          font-size: 0.7em;
        }
      }
    }
  }

  div:not(.form-group-row) > .form-group:first-of-type {
    margin-top: 0 !important;
  }

  // div:not(.form-group-row) > .form-group:last-of-type {
  //     margin-bottom: 0 !important;
  // }

  .form_output {
    font-weight: bold;
    margin: $margin 0;
    white-space: nowrap;
  }

  table {
    margin: 0;
    padding: 0;

    th,
    td {
      padding-top: 0.5em;
      padding-bottom: 0.5em;
    }
  }

  &.col_1 {
    width: 100%;
  }

  &.col_2 {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
  }

  label {
    font-size: $base_font_size * 0.8;
    display: inline-block;
    // font-weight: 400;
  }

  input,
  select,
  textarea {
    font-size: $base_font_size;
    width: 100%;
    height: 2em;
    border: 1px solid rgba($color_blue, 0.4);
    border-radius: 0.2em;
    padding: 0.3em;
    color: $color_blue;

    &:not([type="checkbox"]) {
      display: block;
      max-width: 450px;
      // margin-bottom: .5em;
    }

    &:is([type="checkbox"], [type="radio"]) {
      // width: var(--input_width);
      // height: var(--input_width);
      display: none;

      & + label {
        display: inline-block;
        // margin-bottom: 1em;
        // vertical-align: -0.9em;
        line-height: 1.8em;
        cursor: pointer;
      }

      &:not(:only-of-type) + label:not(:last-child) {
        margin-right: 1em;
      }
    }

    &[type="checkbox"] {
      & + label::before {
        border: 1px solid $color_red;
        border-radius: 0.3em;
        content: "";
        display: inline-block;
        width: var(--input_width);
        height: var(--input_width);
        margin-right: 0.5em;
        vertical-align: -0.2em;
      }

      &:checked + label::before {
        border: none;
        background-image: url(../images/icons__small.svg);
        background-repeat: no-repeat;
        background-size: cover;
        background-position-x: 74.5%;
        color: $color_white;
        text-align: center;
        // transform: scale(1.3);
      }

      &:focus + label::before {
        outline: $color_blue auto 5px;
      }
    }

    &[type="number"] {
      max-width: 140px;
    }

    &[type="radio"] {
      & + label::before {
        content: "";
        background-image: url(../images/icons__small.svg);
        background-repeat: no-repeat;
        background-size: cover;
        background-position-x: 80.5%;
        display: inline-block;
        width: var(--input_width);
        height: var(--input_width);
        margin-right: 0.5em;
        vertical-align: -0.2em;
      }

      &:checked + label::before {
        background-image: url(../images/icons__small.svg);
        background-position-x: 47.2%;
        color: $color_white;
        text-align: center;
        // transform: scale(1.3);
      }

      &[disabled] {
        & + label,
        & + label::before {
          opacity: 0.5;
        }
      }

      &:focus + label::before {
        outline: $color_blue auto 5px;
      }
    }

    &.input--small {
      max-width: 70px;
    }

    &.error {
      box-shadow: 0 0 3px $color_red;
    }
  }

  span.error {
    font-size: 0.9em;
  }
}

a.btn,
button,
input[type="submit"] {
  all: unset;
  color: $color_white;
  padding: 9px 13px;
  outline: none;
  border: none;
  border-radius: 5px;
  font-weight: 500;
  font-family: inherit;
  cursor: pointer;
  white-space: nowrap;
  margin-bottom: 5px;
  // height: 36.1px;

  &:hover {
    animation: buttonAnimation 0.5s both;
  }
}

@keyframes buttonAnimation {
  from {
    opacity: 1;
  }
  to {
    opacity: 0.8;
  }
}

.btn {
  &-primary {
    background-color: $color_red;
  }

  &-secondary {
    background-color: $color_mediumgrey;
  }
}

.controls {
  &.inline {
    display: flex;
    gap: 5px;
  }
}
